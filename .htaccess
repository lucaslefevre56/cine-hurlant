# ==========================================
# .htaccess â€” RÃ©Ã©criture dâ€™URL moderne
# Projet : CinÃ©-Hurlant
# ==========================================

# ğŸ” Active le moteur de rÃ©Ã©criture d'Apache
RewriteEngine On

# ğŸ“ SpÃ©cifie le chemin de base (Ã  adapter selon ton dossier projet)
RewriteBase /cine-hurlant/

# ğŸš« Si la ressource demandÃ©e Nâ€™EST PAS un fichier...
RewriteCond %{REQUEST_FILENAME} !-f

# ...et Nâ€™EST PAS non plus un dossier...
RewriteCond %{REQUEST_FILENAME} !-d

# ğŸ‘‰ ...alors je redirige tout vers index.php
# QSA = garde les paramÃ¨tres GET Ã©ventuels (ex: ?page=2)
# L = stoppe les rÃ¨gles ici si celle-ci est appliquÃ©e
RewriteRule ^ index.php [QSA,L]

# ğŸ›¡ï¸ Protection des fichiers sensibles (ex: .env, .gitignore, .sql...)
<FilesMatch "^(\.env|\.gitignore|\.htaccess|.*\.(ini|log|sql|bak|md|json))$">
  Require all denied
</FilesMatch>

# ğŸ” Redirection automatique vers HTTPS si besoin
RewriteCond %{HTTPS} off
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
